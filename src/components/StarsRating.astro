---
import { Icon } from "astro-icon";

export interface Props {
  rating: number;
}

const { rating } = Astro.props;
---

{
  () => {
    const stars = Array(5);

    for (let i = 0; i < 5; i++) {
      const diff = rating - i;
      if (diff === 0.5) {
        stars[i] = (
          <Icon class="inline" name="ic:outline-star-half" size={20} />
        );
        // using <= here throws error wtf?
      } else if (0 >= diff) {
        stars[i] = (
          <Icon class="inline" name="ic:outline-star-outline" size={20} />
        );
      } else {
        stars[i] = <Icon class="inline" name="ic:outline-star" size={20} />;
      }
    }
    return stars;
  }
}
